<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Shop</title>

<style>
    body { font-family: Arial; margin: 0; background:#f4f4f4; }

    h2 { text-align: center; margin-top: 25px; }

    /* Categories (NOT 2 per row) */
    .category-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
        padding: 20px;
    }
    .category-card {
        background: white;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        cursor: pointer;
        font-size: 18px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    /* PRODUCT SECTIONS 2 PER ROW */
    .product-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        padding: 20px;
    }
    .product-card {
        background: white;
        padding: 10px;
        border-radius: 10px;
        text-align: center;
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .product-card img {
        width: 100%;
        height: 150px;
        border-radius: 10px;
        object-fit: cover;
    }

    /* Product Page */
    #productDetails { display:none; padding:20px; }
    #productDetails img { width:100%; border-radius:10px; }

    .btn {
        width:100%;
        padding:12px;
        border:none;
        border-radius:8px;
        background:#ff6600;
        color:white;
        margin-top:10px;
        cursor:pointer;
        font-size:16px;
    }

    /* BUY MODAL */
    #buyModal {
        display:none;
        position:fixed;
        top:0; left:0;
        width:100%; height:100%;
        background:rgba(0,0,0,0.7);
        justify-content:center;
        align-items:center;
    }
    .modal-box {
        background:white;
        padding:20px;
        width:90%;
        max-width:350px;
        border-radius:10px;
    }
    .input-box {
        width:100%;
        padding:10px;
        margin-bottom:12px;
        border-radius:6px;
        border:1px solid #ccc;
    }
</style>
</head>

<body>

<!-- FRONT PAGE -->
<h2>Categories</h2>
<div class="category-grid" id="categoryGrid"></div>

<h2>Products</h2>
<div class="product-grid" id="mainProducts"></div>

<h2>Suggested For You</h2>
<div class="product-grid" id="suggestedProducts"></div>

<h2>You May Also Like</h2>
<div class="product-grid" id="likedProducts"></div>

<!-- PRODUCT DETAILS -->
<div id="productDetails"></div>

<!-- BUY POPUP -->
<div id="buyModal">
    <div class="modal-box">
        <h3>Cash on Delivery</h3>
        <form action="https://formspree.io/f/yourFormID" method="POST">
            <input class="input-box" type="text" name="name" placeholder="Your Name" required>
            <input class="input-box" type="text" name="address" placeholder="Your Address" required>
            <input class="input-box" type="text" name="phone" placeholder="Your Phone" required>
            <button class="btn">Place Order</button>
        </form>
        <button class="btn" style="background:black" onclick="closeModal()">Close</button>
    </div>
</div>

<script>
// ---------------------------------------------------
// DATA
// ---------------------------------------------------
const categories = [
    {name:"Men", id:"men"},
    {name:"Women", id:"women"},
    {name:"Shoes", id:"shoes"},
    {name:"Kids", id:"kids"}
];

const products = {
    men: [
        {name:"Men T-shirt", price:"$12", desc:"Cotton T-shirt", img:"https://via.placeholder.com/200"},
        {name:"Men Hoodie", price:"$25", desc:"Warm hoodie", img:"https://via.placeholder.com/200"},
    ],
    women: [
        {name:"Ladies Dress", price:"$22", desc:"Beautiful dress", img:"https://via.placeholder.com/200"},
        {name:"Ladies Bag", price:"$18", desc:"Fashionable bag", img:"https://via.placeholder.com/200"},
    ],
    shoes: [
        {name:"Running Shoes", price:"$20", desc:"Comfortable shoes", img:"https://via.placeholder.com/200"},
        {name:"Formal Shoes", price:"$28", desc:"Office shoes", img:"https://via.placeholder.com/200"},
    ],
    kids: [
        {name:"Kids Shirt", price:"$10", desc:"Nice shirt", img:"https://via.placeholder.com/200"},
        {name:"Kids Shorts", price:"$14", desc:"Comfortable shorts", img:"https://via.placeholder.com/200"},
    ]
};

// ---------------------------------------------------
// RENDER CATEGORIES
// ---------------------------------------------------
const categoryGrid = document.getElementById("categoryGrid");
categories.forEach(cat => {
    categoryGrid.innerHTML += `
        <div class="category-card" onclick="showCategory('${cat.id}')">${cat.name}</div>
    `;
});

// ---------------------------------------------------
// FRONT PAGE: PRODUCTS, SUGGESTED, LIKED
// ---------------------------------------------------
function renderFrontPage() {
    const main = document.getElementById("mainProducts");
    const sug = document.getElementById("suggestedProducts");
    const like = document.getElementById("likedProducts");

    Object.values(products).flat().forEach(p => {
        main.innerHTML += productCard(p);
        sug.innerHTML += productCard(p);
        like.innerHTML += productCard(p);
    });
}

function productCard(p) {
    return `
    <div class="product-card" onclick="viewProduct('${p.name}')">
        <img src="${p.img}">
        <h3>${p.name}</h3>
        <p>${p.price}</p>
    </div>`;
}

renderFrontPage();

// ---------------------------------------------------
// CATEGORY CLICK â†’ SHOW ONLY THAT CATEGORY
// ---------------------------------------------------
function showCategory(catID) {
    const productList = document.getElementById("mainProducts");
    productList.innerHTML = "";

    products[catID].forEach(p => {
        productList.innerHTML += productCard(p);
    });

    document.getElementById("productDetails").style.display = "none";
}

// ---------------------------------------------------
// PRODUCT DETAILS PAGE
// ---------------------------------------------------
function viewProduct(productName) {
    let product = null;

    Object.values(products).forEach(list => {
        list.forEach(p => {
            if (p.name === productName) product = p;
        });
    });

    if (!product) return;

    document.getElementById("mainProducts").innerHTML = "";
    document.getElementById("suggestedProducts").innerHTML = "";
    document.getElementById("likedProducts").innerHTML = "";

    const details = document.getElementById("productDetails");
    details.style.display = "block";

    // Generate You Might Also Like
    let likedHTML = "<h2>You Might Also Like</h2><div class='product-grid'>";
    Object.values(products).flat().forEach(p => {
        if (p.name !== product.name) likedHTML += productCard(p);
    });
    likedHTML += "</div>";

    details.innerHTML = `
        <img src="${product.img}">
        <h2>${product.name}</h2>
        <p>${product.price}</p>
        <p>${product.desc}</p>

        <button class="btn" onclick="openModal()">Buy Now</button>

        ${likedHTML}
    `;
}

// ---------------------------------------------------
// BUY NOW POPUP
// ---------------------------------------------------
function openModal() { document.getElementById("buyModal").style.display = "flex"; }
function closeModal() { document.getElementById("buyModal").style.display = "none"; }

</script>
</body>
</html>
