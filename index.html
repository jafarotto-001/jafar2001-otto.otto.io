<!DOCTYPE html>
<html>
<head>
<style>
    body { font-family: Arial; margin: 0; background: #f5f5f5; }

    /* SEARCH BAR */
    .search-box input {
        width: 90%;
        margin: 15px auto;
        display: block;
        padding: 12px;
        font-size: 18px;
        border-radius: 8px;
        border: 1px solid #ccc;
    }

    /* CATEGORY SECTION */
    .categories {
        display: flex;
        gap: 15px;
        padding: 15px;
        overflow-x: auto;
    }
    .category-card {
        min-width: 150px;
        background: white;
        padding: 10px;
        border-radius: 10px;
        text-align: center;
        cursor: pointer;
        box-shadow: 0px 3px 6px rgba(0,0,0,0.1);
    }
    .category-card img {
        width: 100%;
        height: 120px;
        object-fit: cover;
        border-radius: 10px;
    }

    /* PRODUCT GRID */
    .products {
        padding: 15px;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px,1fr));
        gap: 15px;
    }
    .product {
        background: white;
        padding: 10px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0px 2px 5px rgba(0,0,0,0.1);
    }
    .product img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 10px;
    }
    .buy-btn {
        margin-top: 10px;
        padding: 10px;
        color: white;
        background: green;
        border: none;
        border-radius: 6px;
        width: 100%;
        cursor: pointer;
    }

    /* POPUP */
    .popup {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.6);
        justify-content: center;
        align-items: center;
    }
    .popup-box {
        background: white;
        padding: 20px;
        width: 90%;
        max-width: 350px;
        border-radius: 10px;
    }
    .popup-box input {
        width: 100%;
        padding: 10px;
        margin: 7px 0;
        border-radius: 6px;
        border: 1px solid #ccc;
    }
    .close-btn {
        background: red;
        color: white;
        padding: 10px;
        width: 100%;
        border: none;
        margin-top: 8px;
        border-radius: 6px;
    }
</style>
</head>

<body>

<!-- SEARCH BAR -->
<div class="search-box">
    <input type="text" id="search" placeholder="Search products..." onkeyup="searchProduct()">
</div>

<!-- CATEGORIES -->
<h2 style="margin-left:15px;">Categories</h2>
<div class="categories">
    <div class="category-card" onclick="showCategory('phones')">
        <img src="https://i.imgur.com/zr7oO2y.jpeg">
        <p>Phones</p>
    </div>

    <div class="category-card" onclick="showCategory('fashion')">
        <img src="https://i.imgur.com/OXQLoB8.jpeg">
        <p>Fashion</p>
    </div>

    <div class="category-card" onclick="showCategory('grocery')">
        <img src="https://i.imgur.com/vDqViu5.jpeg">
        <p>Grocery</p>
    </div>
</div>

<!-- CATEGORY PRODUCTS -->
<h2 id="categoryTitle" style="margin-left:15px;"></h2>
<div id="productContainer" class="products"></div>

<!-- SUGGESTED -->
<h2 style="margin-left:15px;">Suggested for You</h2>
<div id="suggested" class="products"></div>

<!-- YOU MAY ALSO LIKE -->
<h2 style="margin-left:15px;">You May Also Like</h2>
<div id="recommend" class="products"></div>

<!-- CASH ON DELIVERY POPUP -->
<div class="popup" id="popup">
    <div class="popup-box">
        <h3>Cash on Delivery</h3>
        <p id="productName"></p>

        <form id="codForm" method="POST">
            <input type="hidden" name="product" id="productInput">
            <input type="text" name="name" placeholder="Your Name" required>
            <input type="text" name="phone" placeholder="Phone Number" required>
            <input type="text" name="address" placeholder="Delivery Address" required>

            <button class="buy-btn">Submit Order</button>
        </form>

        <button class="close-btn" onclick="closePopup()">Cancel</button>
    </div>
</div>

<script>
// FORM ACTION (PUT YOUR FORMSPREE LINK HERE)
document.getElementById("codForm").action = "YOUR_FORMSPREE_LINK_HERE";

// PRODUCT DATA
const products = {
    phones: [
        {name:"Samsung A12", price:"$180", img:"https://i.imgur.com/XPYzUMQ.jpeg"},
        {name:"iPhone 11", price:"$350", img:"https://i.imgur.com/PGORLnj.jpeg"}
    ],
    fashion: [
        {name:"Men T-shirt", price:"$10", img:"https://i.imgur.com/89tJjjd.jpeg"}
    ],
    grocery: [
        {name:"Rice 5kg", price:"$8", img:"https://i.imgur.com/HfI7zUm.jpeg"}
    ]
};

const suggested = [
    {name:"Smartwatch", price:"$20", img:"https://i.imgur.com/CN2k7P2.jpeg"},
];

const recommend = [
    {name:"Shoes", price:"$15", img:"https://i.imgur.com/NXD0vUY.jpeg"},
];

// Display categories
function showCategory(type) {
    document.getElementById("categoryTitle").innerText = type.toUpperCase();
    let box = document.getElementById("productContainer");
    box.innerHTML = "";
    products[type].forEach(p => {
        box.innerHTML += productCard(p);
    });
}

// Search feature
function searchProduct() {
    let value = document.getElementById("search").value.toLowerCase();
    let box = document.getElementById("productContainer");
    box.innerHTML = "";
    Object.values(products).flat().forEach(p => {
        if (p.name.toLowerCase().includes(value)) {
            box.innerHTML += productCard(p);
        }
    });
}

function productCard(p) {
    return `
    <div class="product">
        <img src="${p.img}">
        <h3>${p.name}</h3>
        <p>${p.price}</p>
        <button class="buy-btn" onclick="openPopup('${p.name}')">Buy Now</button>
    </div>
    `;
}

function openPopup(name) {
    document.getElementById("productName").innerText = name;
    document.getElementById("productInput").value = name;
    document.getElementById("popup").style.display = "flex";
}
function closePopup() {
    document.getElementById("popup").style.display = "none";
}

// Load suggested + recommended
document.getElementById("suggested").innerHTML = suggested.map(productCard).join("");
document.getElementById("recommend").innerHTML = recommend.map(productCard).join("");
</script>

</body>
</html>
