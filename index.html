<!DOCTYPE html>
<html>
<head>
<style>
    body { font-family: Arial; margin: 0; background: #f5f5f5; }

    /* SEARCH BAR */
    .search-container {
        background: white;
        padding: 15px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        position: sticky;
        top: 0;
        z-index: 100;
    }
    .search-container input {
        width: 100%;
        padding: 12px;
        font-size: 18px;
        border: 1px solid #ccc;
        border-radius: 10px;
    }

    /* CATEGORY BUTTONS */
    .categories {
        display: flex;
        gap: 15px;
        padding: 20px;
        flex-wrap: wrap;
    }
    .category-btn {
        background: #3498db;
        color: white;
        padding: 12px 20px;
        border-radius: 10px;
        cursor: pointer;
        font-size: 17px;
    }
    .category-btn:hover {
        background: #2980b9;
    }

    /* PRODUCT GRID */
    .products {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
        gap: 20px;
        padding: 20px;
    }
    .product {
        background: white;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .product img {
        width: 100%;
        border-radius: 10px;
    }
    .buy-btn {
        background: green;
        color: white;
        padding: 10px 18px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 8px;
    }

    h2 { margin-left: 20px; }

    /* POPUP FORM */
    .popup {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.6);
        justify-content: center;
        align-items: center;
    }
    .popup-box {
        background: white;
        padding: 20px;
        width: 90%;
        max-width: 350px;
        border-radius: 10px;
    }
    .popup-box input {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        border-radius: 5px;
        border: 1px solid #ccc;
    }
    .close-btn {
        background: red;
        color: white;
        padding: 10px;
        border: none;
        width: 100%;
        margin-top: 10px;
    }
</style>
</head>

<body>

<!-- SEARCH BAR -->
<div class="search-container">
    <input type="text" id="searchBox" placeholder="Search products..." onkeyup="searchProduct()">
</div>

<!-- CATEGORIES -->
<h2>Categories</h2>
<div class="categories">
    <div class="category-btn" onclick="showProducts('mobile')">ðŸ“± Mobile</div>
    <div class="category-btn" onclick="showProducts('fashion')">ðŸ‘— Fashion</div>
    <div class="category-btn" onclick="showProducts('grocery')">ðŸ›’ Grocery</div>
</div>

<!-- SUGGESTED FOR YOU -->
<h2>Suggested for You</h2>
<div id="suggestedContainer" class="products"></div>

<!-- CATEGORY PRODUCTS (dynamic) -->
<h2 id="categoryTitle"></h2>
<div id="productContainer" class="products"></div>

<!-- YOU MAY ALSO LIKE -->
<h2>You May Also Like</h2>
<div id="recommendContainer" class="products"></div>

<!-- POPUP CASH ON DELIVERY FORM -->
<div class="popup" id="codPopup">
    <div class="popup-box">
        <h3>Cash on Delivery</h3>
        <p id="selectedProduct"></p>

        <input type="text" placeholder="Your Name">
        <input type="text" placeholder="Phone Number">
        <input type="text" placeholder="Delivery Address">

        <button class="buy-btn">Submit Order</button>
        <button class="close-btn" onclick="closePopup()">Cancel</button>
    </div>
</div>


<script>
// PRODUCT DATA
const products = {
    mobile: [
        {name: "Samsung A12", price: "$180", img: "https://via.placeholder.com/200"},
        {name: "Tecno Spark 10", price: "$120", img: "https://via.placeholder.com/200"},
    ],
    fashion: [
        {name: "Men T-shirt", price: "$12", img: "https://via.placeholder.com/200"},
        {name: "Ladies Dress", price: "$22", img: "https://via.placeholder.com/200"},
    ],
    grocery: [
        {name: "Rice 5kg", price: "$8", img: "https://via.placeholder.com/200"},
        {name: "Cooking Oil 1L", price: "$4", img: "https://via.placeholder.com/200"},
    ]
};

// SUGGESTED & RECOMMENDED
const suggested = [
    {name: "Earbuds", price: "$15", img: "https://via.placeholder.com/200"},
    {name: "Smart Speaker", price: "$25", img: "https://via.placeholder.com/200"},
];

const recommended = [
    {name: "Sports Shoes", price: "$18", img: "https://via.placeholder.com/200"},
    {name: "Smartwatch", price: "$30", img: "https://via.placeholder.com/200"},
];

// LOAD SUGGESTED
function loadSuggested() {
    let box = document.getElementById("suggestedContainer");
    suggested.forEach(p => box.innerHTML += productCard(p));
}

// LOAD RECOMMENDED
function loadRecommended() {
    let box = document.getElementById("recommendContainer");
    recommended.forEach(p => box.innerHTML += productCard(p));
}

// PRODUCT CARD
function productCard(p) {
    return `
        <div class="product">
            <img src="${p.img}">
            <h3>${p.name}</h3>
            <p>${p.price}</p>
            <button class="buy-btn" onclick="openCOD('${p.name}', '${p.price}')">Cash on Delivery</button>
        </div>
    `;
}

// SHOW CATEGORY PRODUCTS
function showProducts(category) {
    document.getElementById("categoryTitle").innerText = category.toUpperCase();
    let box = document.getElementById("productContainer");
    box.innerHTML = "";
    products[category].forEach(p => box.innerHTML += productCard(p));
}

// SEARCH PRODUCTS
function searchProduct() {
    let search = document.getElementById("searchBox").value.toLowerCase();
    let box = document.getElementById("productContainer");
    box.innerHTML = "";

    Object.values(products).flat().forEach(p => {
        if (p.name.toLowerCase().includes(search)) {
            box.innerHTML += productCard(p);
        }
    });
}

// OPEN COD POPUP
function openCOD(name, price) {
    document.getElementById("selectedProduct").innerText = name + " - " + price;
    document.getElementById("codPopup").style.display = "flex";
}

// CLOSE POPUP
function closePopup() {
    document.getElementById("codPopup").style.display = "none";
}

// INITIAL LOAD SECTIONS
loadSuggested();
loadRecommended();
</script>

</body>
</html>
