<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SHOP</title>

<style>
    body { font-family: Arial; margin: 0; background: #f3f3f3; }

    h2 { text-align: center; margin-top: 20px; }

    /* ---------- CATEGORY SECTION (NOT 2 per row) ---------- */
    .category-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
        padding: 20px;
    }
    .category-card {
        background: #fff;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        font-size: 17px;
        font-weight: bold;
    }

    /* ---------- PRODUCT SECTIONS (2 PER ROW) ---------- */
    .product-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        padding: 20px;
    }
    .product-card {
        background: #fff;
        padding: 10px;
        border-radius: 10px;
        text-align: center;
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    }
    .product-card img {
        width: 100%;
        height: 150px;
        border-radius: 10px;
        object-fit: cover;
    }

    /* ---------- PRODUCT DETAILS PAGE ---------- */
    #productDetails { display:none; padding:20px; }
    #productDetails img { width:100%; border-radius:10px; }

    .btn {
        width:100%;
        padding:12px;
        background:#ff6600;
        color:white;
        border:none;
        border-radius:8px;
        margin-top:10px;
        cursor:pointer;
        font-size:16px;
    }

    /* ---------- BUY NOW POPUP ---------- */
    #buyModal {
        position:fixed;
        display:none;
        top:0; left:0;
        width:100%; height:100%;
        background:rgba(0,0,0,0.7);
        justify-content:center;
        align-items:center;
    }
    .modal-box {
        background:white;
        padding:20px;
        width:90%;
        max-width:350px;
        border-radius:10px;
    }
    .input-box {
        width:100%;
        padding:10px;
        margin-bottom:12px;
        border-radius:6px;
        border:1px solid #ccc;
    }
</style>
</head>

<body>

<h2>Categories</h2>
<div id="categoryGrid" class="category-grid"></div>

<h2>Products</h2>
<div id="productGrid" class="product-grid"></div>

<h2>Suggested For You</h2>
<div id="suggestedGrid" class="product-grid"></div>

<h2>You May Also Like</h2>
<div id="likeGrid" class="product-grid"></div>

<!-- PRODUCT DETAILS PAGE -->
<div id="productDetails"></div>

<!-- BUY NOW POPUP -->
<div id="buyModal">
    <div class="modal-box">
        <h3>Cash on Delivery</h3>
        <form action="https://formspree.io/f/yourFormID" method="POST">
            <input class="input-box" name="name" placeholder="Your Name" required>
            <input class="input-box" name="address" placeholder="Delivery Address" required>
            <input class="input-box" name="phone" placeholder="Phone Number" required>
            <button class="btn">Place Order</button>
        </form>
        <button class="btn" style="background:black" onclick="closeModal()">Close</button>
    </div>
</div>

<script>
/* ---------------------------------------------------
   DATA
---------------------------------------------------*/
const categories = [
    {name:"Men", id:"men"},
    {name:"Women", id:"women"},
    {name:"Shoes", id:"shoes"},
    {name:"Kids", id:"kids"},
];

const products = {
    men: [
        {name:"Men T-shirt", price:"$12", desc:"Cotton shirt", img:"https://via.placeholder.com/200"},
        {name:"Men Hoodie", price:"$25", desc:"Warm hoodie", img:"https://via.placeholder.com/200"},
    ],
    women: [
        {name:"Ladies Dress", price:"$22", desc:"Beautiful dress", img:"https://via.placeholder.com/200"},
        {name:"Ladies Bag", price:"$18", desc:"Fashion bag", img:"https://via.placeholder.com/200"},
    ],
    shoes: [
        {name:"Running Shoes", price:"$20", desc:"Comfortable running shoes", img:"https://via.placeholder.com/200"},
        {name:"Formal Shoes", price:"$28", desc:"Office shoes", img:"https://via.placeholder.com/200"},
    ],
    kids: [
        {name:"Kids Shirt", price:"$10", desc:"Cotton kids shirt", img:"https://via.placeholder.com/200"},
        {name:"Kids Shorts", price:"$14", desc:"Soft shorts", img:"https://via.placeholder.com/200"},
    ]
};

/* ---------------------------------------------------
   RENDER CATEGORY SECTION
---------------------------------------------------*/
const categoryGrid = document.getElementById("categoryGrid");
categories.forEach(cat => {
    categoryGrid.innerHTML += `
        <div class="category-card" onclick="showCategory('${cat.id}')">${cat.name}</div>
    `;
});

/* ---------------------------------------------------
   FRONT PAGE PRODUCTS (2 per row)
---------------------------------------------------*/
function loadFrontPage() {
    const all = Object.values(products).flat();

    all.forEach(p => {
        document.getElementById("productGrid").innerHTML += productCard(p);
        document.getElementById("suggestedGrid").innerHTML += productCard(p);
        document.getElementById("likeGrid").innerHTML += productCard(p);
    });
}

function productCard(p) {
    return `
        <div class="product-card" onclick="viewProduct('${p.name}')">
            <img src="${p.img}">
            <h3>${p.name}</h3>
            <p>${p.price}</p>
        </div>
    `;
}

loadFrontPage();

/* ---------------------------------------------------
   SHOW ONLY CLICKED CATEGORY PRODUCTS
---------------------------------------------------*/
function showCategory(id) {
    const list = products[id];
    const grid = document.getElementById("productGrid");
    grid.innerHTML = "";

    list.forEach(p => grid.innerHTML += productCard(p));

    // hide details
    document.getElementById("productDetails").style.display = "none";
}

/* ---------------------------------------------------
   PRODUCT DETAILS PAGE
---------------------------------------------------*/
function viewProduct(name) {
    let selected = null;

    Object.values(products).flat().forEach(p => {
        if (p.name === name) selected = p;
    });

    const d = document.getElementById("productDetails");
    d.style.display = "block";

    // Create "You Might Also Like"
    let likeHTML = "<h2>You Might Also Like</h2><div class='product-grid'>";
    Object.values(products).flat().forEach(p => {
        if (p.name !== name) likeHTML += productCard(p);
    });
    likeHTML += "</div>";

    d.innerHTML = `
        <img src="${selected.img}">
        <h2>${selected.name}</h2>
        <p>${selected.price}</p>
        <p>${selected.desc}</p>

        <button class="btn" onclick="openModal()">Buy Now</button>

        ${likeHTML}
    `;
}

/* ---------------------------------------------------
   BUY NOW POPUP
---------------------------------------------------*/
function openModal() {
    document.getElementById("buyModal").style.display = "flex";
}
function closeModal() {
    document.getElementById("buyModal").style.display = "none";
}
</script>

</body>
</html>
